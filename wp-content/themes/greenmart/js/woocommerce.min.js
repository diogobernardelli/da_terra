!function(t){var a=null;jQuery("body").bind("adding_to_cart",function(t,e,o){a=o}),jQuery(document).ready(function(){jQuery("body").hasClass("tbay-disable-ajax-popup-cart")||jQuery("body").bind("added_to_cart",function(t,e){if(a){jQuery("#tbay-cart-modal").modal();var o=greenmart_ajax.ajaxurl+"?action=greenmart_add_to_cart_product&product_id="+a.product_id;jQuery.get(o,function(t,a){jQuery("#tbay-cart-modal .modal-body .modal-body-content").html(t)}),jQuery("#tbay-cart-modal").on("hidden.bs.modal",function(){jQuery(this).find(".modal-body .modal-body-content").empty()})}}),t("#productvideo").tbayIframe(),t(document).on("added_to_wishlist removed_from_wishlist",function(){var a=t(".count_wishlist");t.ajax({url:yith_wcwl_l10n.ajax_url,data:{action:"yith_wcwl_update_wishlist_count"},dataType:"json",success:function(t){a.html(t.count)},beforeSend:function(){a.block()},complete:function(){a.unblock()}})}),t(document).on("click",".mini_cart_content a.remove",function(a){a.preventDefault();var e=t(this).attr("data-product_id"),o=t(this).attr("data-cart_item_key"),n=t(this).parents(".mini_cart_item"),i=t(this).closest(".widget_shopping_cart_content");n.block({message:null,overlayCSS:{cursor:"none"}}),t.ajax({type:"POST",dataType:"json",url:wc_add_to_cart_params.ajax_url,data:{action:"product_remove",product_id:e,cart_item_key:o},beforeSend:function(){i.find(".mini_cart_content").append('<div class="ajax-loader-wapper"><div class="ajax-loader"></div></div>'),i.find(".mini_cart_content").fadeTo("slow",.3),a.stopPropagation()},success:function(a){if(a&&!a.error){var o=a.fragments;o&&t.each(o,function(a,e){t(a).replaceWith(e)}),t(".add_to_cart_button.added").each(function(a){t(this).data("product_id")==e&&(t(this).removeClass("added"),t(this).next(".wc-forward").remove())})}}})})}),t(document).on("click",".plus, .minus",function(){var a=t(this).closest(".quantity").find(".qty"),e=parseFloat(a.val()),o="",n=1,i=1;e&&""!==e&&"NaN"!==e||(e=0),""!==o&&"NaN"!==o||(o=""),""!==n&&"NaN"!==n||(n=0),"any"!==i&&""!==i&&void 0!==i&&"NaN"!==parseFloat(i)||(i=1),t(this).is(".plus")?o&&(o==e||e>o)?a.val(o):a.val(e+parseFloat(i)):n&&(n==e||e<n)?a.val(n).trigger("change"):e>0&&a.val(e-parseFloat(i)),a.change()}),t(document).on("click",".tbay-body-woocommerce-quantity-mod .plus, .tbay-body-woocommerce-quantity-mod .minus",function(){jQuery(this).parents(".groups-button").find(".add_to_cart_button").attr("data-quantity",jQuery(this).parent(".quantity").find(".qty").attr("value"))}),t(".thumbnails-image .thumb-link").click(function(a){a.preventDefault();var e=t(this).attr("href"),o=t(this).data("image");t(".woocommerce-main-image .featured-image").attr("href",o),t(".woocommerce-main-image .featured-image img").attr("src",e),t(".cloud-zoom").CloudZoom()}),t(window).load(function(){t(".style-horizontal .flex-control-thumbs").each(function(){if(0!=t(this).children().length){var a=[],e=t(this).parent(".woocommerce-product-gallery").data("columns");a.slidesToShow=e,a.infinite=!1,a.focusOnSelect=!0,a.settings="unslick",a.prevArrow='<span class="owl-prev"></span>',a.nextArrow='<span class="owl-next"></span>',a.responsive=[{breakpoint:1025,settings:{slidesToShow:3}}],t("body").hasClass("rtl")&&(a.rtl=!0),t(this).slick(a)}}),t(".style-vertical .flex-control-thumbs").each(function(){if(0!=t(this).children().length){var a=[],e=t(this).parent(".woocommerce-product-gallery").data("columns");a.vertical=!0,a.slidesToShow=e,a.infinite=!1,a.infinite=!1,a.focusOnSelect=!0,a.settings="unslick",a.prevArrow='<span class="owl-prev"></span>',a.nextArrow='<span class="owl-next"></span>',a.responsive=[{breakpoint:1025,settings:{vertical:!1,slidesToShow:3}}],t("body").hasClass("rtl")&&(a.rtl=!0),t(this).slick(a)}})}),t.fn.tbayIframe=function(a){var e=this,o=t.extend({classBtn:".tbay-modalButton",defaultW:640,defaultH:360},a);return t(o.classBtn).on("click",function(a){var n=t(this).attr("data-tbayVideoFullscreen")||!1,i={src:t(this).attr("data-tbaySrc"),height:t(this).attr("data-tbayHeight")||o.defaultH,width:t(this).attr("data-tbayWidth")||o.defaultW};n&&(i.allowfullscreen=""),t(e).find("iframe").attr(i)}),this.on("hidden.bs.modal",function(){t(this).find("iframe").html("").attr("src","")}),this}}(jQuery);